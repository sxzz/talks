---
highlighter: shiki
css: unocss
colorSchema: dark
transition: fade-out
title: tsdownï¼šåº“åº“åŒ…ä¸€åˆ‡
mdc: true
layout: cover
growOpacity: 0.6
---

# tsdownï¼šåº“åº“åŒ…ä¸€åˆ‡

## ğŸ’… ä¼˜é›…çš„åº“æ‰“åŒ…å·¥å…·

<img abs-tr mt20 mr46 src="https://tsdown.dev/tsdown.svg" w-50 op80 />

<div abs-br mr-10 mb-10 flex scale-120 opacity-70>
  <div flex flex-col items-center justify-center gap1>
    <img src="/vue-badge.png" w20 />
    <div text-sm>2025-07-12</div>
  </div>
</div>

<!--
å¤§å®¶å¥½ï¼Œå¾ˆé«˜å…´åˆä¸€æ¬¡åœ¨ VueConf å’Œå¤§å®¶è§é¢ã€‚

ä»Šå¤©æˆ‘æƒ³ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªå…¨æ–°çš„åº“æ‰“åŒ…å·¥å…·â€”â€”tsdownã€‚

tsdown çš„å®šä½æ˜¯â€œä¼˜é›…çš„åº“æ‰“åŒ…å·¥å…·â€ï¼Œå®ƒçš„ç›®æ ‡æ˜¯å¸®åŠ©å‰ç«¯å’Œåç«¯å¼€å‘è€…æ›´é«˜æ•ˆã€æ›´è½»æ¾åœ°æ„å»ºå’Œå‘å¸ƒè‡ªå·±çš„ TypeScript åº“ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šå’Œå¤§å®¶ä¸€èµ·èŠèŠ tsdown çš„è®¾è®¡ç†å¿µã€æ ¸å¿ƒåŠŸèƒ½ï¼Œä»¥åŠå®ƒæ˜¯å¦‚ä½•è®©æˆ‘ä»¬çš„åº“å¼€å‘å˜å¾—æ›´åŠ ç®€å•å’Œä¼˜é›…çš„ã€‚
-->

---
layout: intro
growSeed: 15
growOpacity: 0.6
class: p-20
---

<h1 font-smiley>ä¸‰å’²æ™ºå­ <sup opacity-80 font-hand text-5xl>Kevin Deng</sup></h1>

<div class="[&>*]:important-leading-10 opacity-90">

ä½œè€… {tsdown} / {Vue Macros} / {Elk}<br>
å›¢é˜Ÿæˆå‘˜ {Vue} / {VueUse} / {Rolldown} / {Oxc}<br>
ç»´æŠ¤è€… {Unplugin} / {Quansync}<br>
å— {VoidZero} èµåŠ©<br>

</div>

<div my-10 w-min flex="~ gap-1" items-center justify-center op85>
  <div i-ri-github-fill op50 ma text-xl />
  <div><a href="https://github.com/sxzz" target="_blank" border-none="!">sxzz</a></div>

  <div i-ri:bluesky-fill op80 ma text-xl ml4 text="#1083fe" />
  <div><a href="https://bsky.app/profile/sxzz.dev" border-none="!" target="_blank">sxzz.dev</a></div>

  <div i-ri-twitter-fill op80 ma text-xl ml4 text="#1DA1F2" />
  <div><a href="https://twitter.com/sanxiaozhizi" border-none="!" target="_blank">sanxiaozhizi</a></div>

  <div i-ri-bilibili-fill op80 ma text-xl ml4 text="#20B0E3" />
  <div><a href="https://space.bilibili.com/24679024" target="_blank" border-none="!" text-nowrap>ä¸‰å’²æ™ºå­</a></div>
</div>

<img src="https://raw.githubusercontent.com/sxzz/static/main/avatar.png" rounded-full w-55 abs-tr mt-32 mr-30 />

<!--
æŒ‰ç…§æƒ¯ä¾‹ï¼Œå…ˆç®€å•åšä¸ªè‡ªæˆ‘ä»‹ç»ï¼æˆ‘æ˜¯ tsdownã€Vue Macros å’Œ Elk çš„ä½œè€…ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ Vueã€VueUseã€Rolldownã€Oxc ç­‰å›¢é˜Ÿçš„æˆå‘˜ï¼Œè¿˜åœ¨ç»´æŠ¤ Unpluginã€Quansync ç­‰é¡¹ç›®ã€‚

æˆ‘æ˜¯ä¸€å VoidZero èµåŠ©çš„ç‹¬ç«‹å¼€å‘è€…ã€‚å¦‚æœä½ å¯¹æˆ‘æ„Ÿå…´è¶£ï¼Œæ¬¢è¿åœ¨ GitHubã€Twitterï¼Œæˆ–è€…å“”å“©å“”å“©ä¸Šå…³æ³¨æˆ‘ã€‚

ç›®å‰æˆ‘ä¸»è¦åœ¨ç»´æŠ¤å‰ç«¯å·¥å…·é“¾ç›¸å…³çš„é¡¹ç›®ï¼Œä¹Ÿä¼šåœ¨ GitHub ä¸Šåšä¸€äº›è‡ªå·±æ„Ÿå…´è¶£çš„å†…å®¹ã€‚
-->

---
layout: fact
---

# ğŸ¤” åº“æ‰“åŒ…å·¥å…·ï¼Ÿ

<!--
é‚£ä»€ä¹ˆæ˜¯åº“æ‰“åŒ…å·¥å…·å‘¢ï¼Ÿ
-->

---
layout: statement
class: text-center
---

# ğŸ” æ‰“åŒ…çš„æœ¬è´¨

<div flex="~ row items-center justify-center gap-8" mt-20>
  <div flex="~ col items-center gap-2">
    <div flex gap5 text-5xl mb2>
      <div i-logos-typescript-icon />
      <div i-logos-vue />
      <div i-logos-react />
    </div>
    <div text-lg font-bold mt2>å„ç§å„æ ·çš„æºç </div>
    <div text-sm op70>TS / Vue SFC / JSX / CSS...</div>
  </div>
  <div i-carbon-arrow-right text-5xl text-gray-400 mx-8 />
  <div flex="~ col items-center gap-2">
    <div i-carbon-package text-5xl text-blue mb2 />
    <div text-lg font-bold mt2>å¯ç›´æ¥å¼•ç”¨çš„åº“äº§ç‰©</div>
    <div text-sm op70>ESM / CJS / .d.ts / å‹ç¼© / Tree Shaking</div>
  </div>
</div>

<div mt-10 text-2xl op90 font-bold v-click>è®©ä½ çš„ä»£ç èƒ½è¢«å…¶ä»–é¡¹ç›®ç›´æ¥ç”¨</div>

<!--
æ‰“åŒ…çš„æœ¬è´¨ï¼Œå°±æ˜¯æŠŠä½ çš„æºç ï¼Œæ¯”å¦‚ TSã€Vue SFCã€JSXï¼Œå˜æˆå…¶ä»–é¡¹ç›®å¯ä»¥ç›´æ¥å¼•ç”¨çš„åº“äº§ç‰©ã€‚å®ƒä¼šè‡ªåŠ¨å¤„ç†æ ¼å¼ã€ä¾èµ–ã€ç±»å‹å£°æ˜ï¼ŒæŠŠé›¶æ•£çš„ä»£ç æ•´åˆåœ¨ä¸€èµ·ï¼Œè¿˜èƒ½åšå‹ç¼©å’Œ Tree Shakingã€‚

[click] ä¸€å¥è¯ï¼Œå°±æ˜¯è®©ä½ çš„ä»£ç èƒ½è¢«å…¶ä»–é¡¹ç›®ç›´æ¥ç”¨ã€‚
-->

---
layout: statement
class: text-center
---

# ğŸ¤¨

# ä¸ºä»€ä¹ˆåˆä¸€ä¸ªåº“æ‰“åŒ…å·¥å…·ï¼Ÿ

<div mt10 flex flex-col gap6>
  <div v-click text-xl op90>ğŸ¤¦ Rollupã€esbuildã€tsupã€unbuildâ€¦â€¦</div>
  <div v-click font-bold text-2xl>ä¸ºä»€ä¹ˆè¿˜éœ€è¦ tsdownï¼Ÿ</div>
</div>

<!--
- å¤§å®¶å¯èƒ½ä¼šé—®ï¼Œå¸‚é¢ä¸Šå·²ç»æœ‰å¾ˆå¤šæ‰“åŒ…å·¥å…·äº†ï¼Œ
- [click] æ¯”å¦‚ Rollupã€esbuildã€tsupã€unbuild ç­‰ç­‰ã€‚
- [click] é‚£ä¸ºä»€ä¹ˆè¿˜è¦å†é€ ä¸€ä¸ª tsdown å‘¢ï¼Ÿ
-->

---
layout: statement
class: text-center
---

# ğŸ¤• åº“æ‰“åŒ…çš„ç—›ç‚¹

<div grid cols-2 gap10 mt-12 mx30>
  <div v-click flex="~ col gap-2 items-center" bg-active rounded-xl p4>
    <div i-carbon:document-configuration text-4xl text-yellow-400 />
    <div text-lg>é…ç½®ç¹ç</div>
    <div text-sm op70>Rollup / esbuild é…ç½®å¤æ‚ï¼Œå®¹æ˜“è¸©å‘</div>
  </div>
  <div v-click flex="~ col gap-2 items-center" bg-active rounded-xl p4>
    <div i-carbon-idea text-4xl text-blue-400 />
    <div text-lg>ç±»å‹å£°æ˜éš¾æ</div>
    <div text-sm op70>tsc é…åˆéº»çƒ¦ï¼Œæ‰‹å†™æ„å»ºè„šæœ¬</div>
  </div>
  <div v-click flex="~ col gap-2 items-center" bg-active rounded-xl p4>
    <div i-carbon-cube text-4xl text-green-400 />
    <div text-lg>å¤šæ ¼å¼æ˜“å‡ºé”™</div>
    <div text-sm op70>ESM / CJS / IIFE é…ç½®ä¸ç»Ÿä¸€</div>
  </div>
  <div v-click flex="~ col gap-2 items-center" bg-active rounded-xl p4>
    <div i-carbon-rocket text-4xl text-purple-400 />
    <div text-lg>æ€§èƒ½ç“¶é¢ˆ</div>
    <div text-sm op70>å¤§å‹åº“æ„å»ºæ…¢</div>
  </div>
</div>

<!--
å…¶å®åº“æ‰“åŒ…ä¸€ç›´æœ‰å¾ˆå¤šç—›ç‚¹ã€‚

[click] æ¯”å¦‚é…ç½®ç¹çï¼šåƒ Rollup è¿™ç§ä»¥æ’ä»¶ä¸ºæ ¸å¿ƒçš„å·¥å…·ï¼Œä½ å¯èƒ½éœ€è¦é…ç½®å¾ˆå¤šæ’ä»¶ï¼Œæ‰èƒ½å®ç°ä¸€ä¸ªå®Œæ•´çš„æ‰“åŒ…æµç¨‹ã€‚ä¸åŒæ’ä»¶ä¹‹é—´è¿˜å¯èƒ½ä¼šæœ‰å†²çªã€‚esbuild å’Œ tsup è™½ç„¶ç”¨èµ·æ¥ç®€å•ï¼Œä½†åŠŸèƒ½ä¸å¤Ÿå…¨é¢ï¼Œæ¯”å¦‚æ²¡æœ‰åƒ Rollup é‚£æ ·å¼ºå¤§çš„æ’ä»¶ç”Ÿæ€ã€‚

[click] ç±»å‹å£°æ˜éš¾æï¼šæˆ‘ä»¬æœ‰ tscï¼Œä½† tsc åªæ˜¯é€æ–‡ä»¶åœ°æŠŠ TS è½¬æˆ JS å’Œ DTSã€‚å¦‚æœä½ éœ€è¦å¤šæ ¼å¼è¾“å‡ºï¼Œæ¯”å¦‚ CJS å’Œ ESMï¼Œå°±å¾—è‡ªå·±å†™è„šæœ¬æ¥ç”Ÿæˆåˆé€‚çš„ç±»å‹å£°æ˜ã€‚å¦‚æœè¿˜æƒ³æŠŠ DTS ä¸€èµ·æ‰“åŒ…ï¼Œé‚£å°±æ›´éœ€è¦å…¶ä»–å·¥å…·é…åˆäº†ã€‚

[click] å¤šæ ¼å¼è¾“å‡ºéº»çƒ¦ï¼šå¦‚æœä½ ç”¨ esbuild æˆ– Rollupï¼ŒåŒæ—¶æƒ³è¦è¾“å‡ºå¤šç§æ ¼å¼ï¼ˆæ¯”å¦‚ ESMã€CJSã€IIFEï¼‰ï¼Œé‚£å¯èƒ½è¦å†™ä¸‰å¥—é…ç½®ï¼Œæˆ–è€…æŠ½å…¬å…±é…ç½®ï¼Œä¹ŸæŒºæŠ˜è…¾çš„ã€‚

[click] æ€§èƒ½ç“¶é¢ˆï¼šå¤§é¡¹ç›®æ„å»ºæ…¢ã€‚Rollup æ˜¯ç”¨ JavaScript å†™çš„ï¼Œæ€§èƒ½ä¸Šå¤©ç”Ÿæ¯”ä¸è¿‡ esbuild æˆ– Rolldown è¿™ç§ç”¨ Goã€Rust å†™çš„å·¥å…·ã€‚

è¿™äº›é—®é¢˜åœ¨å®é™…å¼€å‘ä¸­ç»å¸¸é‡åˆ°ï¼Œå°¤å…¶æ˜¯ç»å¸¸åšåº“å¼€å‘çš„å¼€å‘è€…åº”è¯¥æ·±æœ‰ä½“ä¼šã€‚tsdown å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›ç—›ç‚¹è€Œè¯ç”Ÿçš„ã€‚
-->

---
class: m20
---

# tsdown çš„å®šä½ ğŸ“

ä¸“ä¸ºç°ä»£åº“å¼€å‘è€Œç”Ÿ

<div mt-10 text-lg op80>

- æç®€é…ç½®ï¼Œå¼€ç®±å³ç”¨

- è‡ªåŠ¨ç±»å‹å£°æ˜ï¼Œä¾èµ–åˆ†æ

- å¤šæ ¼å¼è¾“å‡ºï¼Œä¸€è‡´ä½“éªŒ

- æè‡´æ€§èƒ½ï¼ŒğŸ¦€ Rust é©±åŠ¨

- æ‹¥æŠ±ç°ä»£å‰ç«¯å¼€å‘èŒƒå¼

</div>

<!--
tsdown çš„å®šä½éå¸¸æ˜ç¡®ï¼Œå°±æ˜¯ä¸“ä¸ºç°ä»£åº“å¼€å‘è€Œç”Ÿã€‚

- å®ƒè¿½æ±‚æç®€é…ç½®ï¼Œå¼€ç®±å³ç”¨ã€‚
- è‡ªåŠ¨å¸®ä½ å¤„ç†ç±»å‹å£°æ˜ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æä¾èµ–ï¼ŒçŸ¥é“å“ªäº›éœ€è¦æ‰“åŒ…ï¼Œå“ªäº›å¯ä»¥ç›´æ¥ importã€‚
- å¤šæ ¼å¼è¾“å‡ºï¼Œä½“éªŒä¸€è‡´ï¼Œä¸ç”¨ä¸ºäº†ä¸åŒæ ¼å¼å†™å¤šå¥—é…ç½®ã€‚
- æ€§èƒ½ä¹Ÿéå¸¸å¼ºæ‚ï¼Œåº•å±‚ç”¨çš„æ˜¯ Rust å†™çš„ Rolldown å¼•æ“ã€‚
- åŒæ—¶ï¼Œtsdown ä¹Ÿç§¯ææ‹¥æŠ±ç°ä»£å‰ç«¯å¼€å‘èŒƒå¼ã€‚å‰ç«¯ç”Ÿæ€å˜åŒ–å¾ˆå¿«ï¼Œä¸¤å¹´å‰çš„æœ€ä½³å®è·µï¼Œä»Šå¤©å¯èƒ½å°±å·²ç»è¿‡æ—¶äº†ã€‚
-->

---
layout: center
class: text-center
---

# ğŸ’ tsdown èƒ½åšä»€ä¹ˆï¼Ÿ

<div grid="~ cols-3 gap8" mt-16>
  <div flex="~ col items-center gap-2" bg-active rounded-xl p4 v-click>
    <div i-logos:nodejs-icon-alt text-5xl />
    <div>Node.js / CommonJS
      <div op70 text-sm mt1><code>require('fs')</code></div>
    </div>
  </div>

  <div flex="~ col items-center gap-2" bg-active rounded-xl p4 v-click>
    <div i-logos:vue text-5xl />
    <div>Vue ç»„ä»¶
      <div op70 text-sm mt1><code>App.vue</code></div>
    </div>
  </div>

  <div flex="~ col items-center gap-2" bg-active rounded-xl p4 v-click>
    <div i-vscode-icons:file-type-typescriptdef rounded text-5xl />
    <div>TypeScript ç±»å‹å£°æ˜
      <div op70 text-sm mt1><code>lib.d.ts</code></div>
    </div>
  </div>

  <div flex="~ col items-center gap-2" bg-active rounded-xl p4 v-click>
    <div i-icon-park-outline:compression text-5xl />
    <div>å‹ç¼©
      <div op70 text-sm mt1>Minification / Tree-shaking</div>
    </div>
  </div>

  <div flex="~ col items-center gap-2" bg-active rounded-xl p4 v-click>
    <div i-carbon:cube text-5xl />
    <div>æ‰“åŒ…
      <div op70 text-sm mt1>bundle / bundleless</div>
    </div>
  </div>

  <div flex="~ col items-center gap-2" bg-active rounded-xl p4 v-click>
    <img src="https://unplugin.unjs.io/logo_dark.svg" w-12  />
    <div>æ’ä»¶
      <div op70 text-sm mt1>unplugin / Rollup / Vite</div>
    </div>
  </div>
</div>

<div mt-8 op80 text-2xl v-click>ğŸ˜ è¿˜æœ‰æ›´å¤šï¼Œå†™ä¸ä¸‹äº†</div>

<!--
é‚£ tsdown å…·ä½“èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿ

- [click] å®ƒæ”¯æŒ Node.js å’Œ CommonJS æ¨¡å—ï¼Œä¸ä»…èƒ½å¤„ç† `require('fs')` è¿™æ ·çš„ä»£ç ï¼Œä¹Ÿèƒ½è¾“å‡º CJS æ ¼å¼ã€‚æ¯”å¦‚è¯´ä½ æœ‰ CJS æ¨¡å—ï¼Œtsdown ä¼šå¸®ä½ è½¬æ¢æˆ ESM æ ¼å¼ç»™æµè§ˆå™¨è¿è¡Œã€‚
- [click] Node.js å’Œæµè§ˆå™¨éƒ½ä¸è®¤è¯† .vue æ–‡ä»¶ï¼Œtsdown å¯ä»¥å¸®ä½ æ‰“åŒ… Vue ç»„ä»¶ï¼Œä¸ä»…èƒ½æŠŠ Vue SFC å•æ–‡ä»¶ç»„ä»¶ç¼–è¯‘æˆ JSï¼Œè¿˜èƒ½åŒæ—¶è¾“å‡ºç±»å‹å£°æ˜ã€‚
- [click] èƒ½æŠŠ TypeScript çš„ç±»å‹å£°æ˜æ‰“åŒ…æˆä¸€ä¸ª `.d.ts` æ–‡ä»¶ï¼Œæ–¹ä¾¿åˆ†å‘å’Œä½¿ç”¨ã€‚
- [click] æ”¯æŒä»£ç å‹ç¼©ï¼ŒåŒ…æ‹¬ Minification å’Œ Tree-shakingï¼Œç‰¹åˆ«é€‚åˆå¯¹ä½“ç§¯æœ‰è¦æ±‚ã€éœ€è¦åœ¨æµè§ˆå™¨ä¸­ç”¨çš„åº“ã€‚
- [click] å½“ç„¶ï¼Œæ‰“åŒ…å™¨è‚¯å®šå¯ä»¥æ‰“åŒ…ã€‚å¦‚æœä½ çš„åº“è¦åœ¨æµè§ˆå™¨é‡Œç”¨ï¼Œè‚¯å®šä¸å¸Œæœ›æµè§ˆå™¨å»åŠ è½½ä¸€å † JS æ–‡ä»¶ã€‚ä½†å¯¹äº Node.jsï¼Œæœ‰äº›äººå¯èƒ½è§‰å¾—æ²¡å¿…è¦æ‰“åŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿæ”¯æŒ bundleless æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥é€‰æ‹©ä¸æ‰“åŒ…ã€‚
- [click] æ›´é‡è¦çš„æ˜¯ï¼Œtsdown æ”¯æŒå„ç§æ’ä»¶ï¼Œå¯ä»¥å’Œ unpluginã€Rollupã€Vite çš„æ’ä»¶æ— ç¼é›†æˆï¼Œç›´æ¥äº«å—è¿™ä¸‰ä¸ªç”Ÿæ€çš„æ’ä»¶èƒ½åŠ›ã€‚

[click] è¿˜æœ‰æ›´å¤šåŠŸèƒ½ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€å±•å¼€äº†ï¼Œæ¬¢è¿å¤§å®¶å»çœ‹æ–‡æ¡£ã€‚ä»Šå¤©æˆ‘ä¼šæŒ‘é€‰ä¸€äº›æ ¸å¿ƒåŠŸèƒ½æ¥ç»™å¤§å®¶ä»‹ç»ã€‚
-->

---
layout: center
class: text-center
---

# ğŸ„ å¿«é€Ÿä¸Šæ‰‹

<div grid="~ cols-3 gap-8" mt-10>
  <div flex="~ col items-center">
    <div text-lg font-bold mb-2>æ–°å»ºé¡¹ç›®</div>

```bash
pnpm create tsdown@latest
```

  </div>
  <div flex="~ col items-center">
    <div text-lg font-bold mb-2>æ‰‹åŠ¨å®‰è£…</div>

```bash
pnpm i -D tsdown
```

  </div>

  <div flex="~ col items-center">
    <div text-lg font-bold mb-2>ä¸€è¡Œå‘½ä»¤æ‰“åŒ…</div>

```bash
tsdown
```

  </div>
</div>

<v-clicks mt-8 text-lg text-left op80>

- æ”¯æŒ npm / pnpm / Yarn / Bunï¼ŒYarn PNP æ­£åœ¨è·¯ä¸Š

- Node.js 20.19+ï¼ŒDeno / Bun å®éªŒæ€§æ”¯æŒ
- æ”¯æŒ CLI å’Œé…ç½®æ–‡ä»¶æ··ç”¨ `tsdown --no-dts`
- å¸¸ç”¨å‚æ•°ä¸€åº”ä¿±å…¨ï¼Œå¦‚ `--format`ã€`--watch`

</v-clicks>

<!--
ä¸Šæ‰‹ tsdown éå¸¸ç®€å•ã€‚ä½ å¯ä»¥ç”¨ä¸€è¡Œå‘½ä»¤æ–°å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å®‰è£…åˆ°ç°æœ‰é¡¹ç›®é‡Œã€‚æ‰“åŒ…ä¹Ÿåªéœ€è¦ä¸€è¡Œå‘½ä»¤å°±æå®šã€‚

- [click] æ”¯æŒ npmã€pnpmã€Yarn å’Œ Bunï¼ŒYarn PNP ä¹Ÿåœ¨è·¯ä¸Šã€‚
- [click] æ”¯æŒ Node.js 20.19 åŠä»¥ä¸Šï¼ŒDeno å’Œ Bun çš„æ”¯æŒè¿˜åœ¨å®éªŒé˜¶æ®µã€‚
- [click] æ”¯æŒ CLI å’Œé…ç½®æ–‡ä»¶æ··ç”¨ï¼Œæ¯”å¦‚ä½ å¯ä»¥ç”¨ `tsdown --no-dts` æ¥è¦†ç›–é…ç½®æ–‡ä»¶é‡Œçš„ `dts` é€‰é¡¹ã€‚
- [click] å¸¸ç”¨å‚æ•°éƒ½å¾ˆé½å…¨ï¼Œæ¯”å¦‚ `--format`ã€`--watch` ç­‰ç­‰ã€‚
æˆ‘ä»¬è¿˜é¢„è®¾äº†å¾ˆå¤šé»˜è®¤é…ç½®ï¼ŒåŸºæœ¬èƒ½æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ã€‚
-->

---
class: m20
---

<h1 flex gap2 items-start>
  ç±»å‹å£°æ˜ç”Ÿæˆ
  <div i-vscode-icons:file-type-typescriptdef mt="-1.5" />
</h1>

<div flex items-center gap1 op80 text-sm>
  <div i-devicon:npm />
  <a font-mono href="https://www.npmjs.com/package/rolldown-plugin-dts" target="_blank">
    rolldown-plugin-dts
  </a>
</div>

<div mt10 text-lg>
<v-clicks>

- æ— éœ€ tscï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
- æ€§èƒ½ä¼˜å…ˆ
  - æ”¯æŒ `isolatedDeclarations`ï¼Œç”± {Oxc} é©±åŠ¨
  - æ”¯æŒ TypeScript Go <span op60 ml2>(tsgo.sxzz.dev)</span>
  - æ”¯æŒå¤šé¡¹ç›®å¤šçº¿ç¨‹ç”Ÿæˆ
- æ”¯æŒ {Vue} ç»„ä»¶

</v-clicks>
</div>

<!--
ç±»å‹å£°æ˜ä¹Ÿæ˜¯åº“å¼€å‘ä¸­å¸¸è§çš„ç—›ç‚¹ä¹‹ä¸€ã€‚

[click] tsdown å†…ç½®äº†è‡ªåŠ¨ç”Ÿæˆ .d.ts çš„èƒ½åŠ›ï¼Œä¸éœ€è¦ tscï¼Œä¹Ÿä¸éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œå¼€ç®±å³ç”¨ã€‚è€Œä¸”æ€§èƒ½ä¼˜å…ˆï¼Œç”Ÿæˆé€Ÿåº¦éå¸¸å¿«ã€‚

[click] å®ƒæ”¯æŒ tsconfig çš„ `isolatedDeclarations` æ¨¡å¼ï¼Œåº•å±‚ç”± Oxc é©±åŠ¨ï¼Œè¿˜æ”¯æŒ TypeScript Goã€å¤šé¡¹ç›®å¤šçº¿ç¨‹ç”Ÿæˆ

[click] ä»¥åŠ Vue ç»„ä»¶çš„ç±»å‹å£°æ˜è¾“å‡ºã€‚
-->

---
layout: center
---

<h1 text-center>ä¾èµ–åˆ†æä¸å¤„ç†</h1>

<div grid="~ cols-2 gap-8" mt-14>
<div flex="~ col items-center gap-2" v-click bg-active rounded-xl p4>
  <div i-carbon-package text-3xl text-blue-400 />
  <div>è‡ªåŠ¨å¯¼å…¥æˆ–æ‰“åŒ…ä¾èµ–</div>
  <div text-sm op70><code>dependencies</code>/<code>peerDependencies</code> é»˜è®¤å¤–éƒ¨åŒ–</div>
</div>
<div flex="~ col items-center gap-2" v-click bg-active rounded-xl p4>
  <div i-carbon-settings text-3xl text-green-400 />
  <div>çµæ´»æ§åˆ¶</div>
  <div text-sm op70><code>external</code> / <code>noExternal</code> ç²¾ç»†é…ç½®</div>
</div>
</div>

<!--
tsdown åœ¨ä¾èµ–å¤„ç†ä¸Šä¹Ÿåšäº†å¾ˆå¤šä¼˜åŒ–ï¼š

- [click] è‡ªåŠ¨å¯¼å…¥æˆ–æ‰“åŒ…ä¾èµ–ã€‚åƒ `dependencies` å’Œ `peerDependencies` é»˜è®¤éƒ½ä¼šè¢«å¤–éƒ¨åŒ–ï¼Œä¸ä¼šè¢«æ‰“è¿›åŒ…é‡Œã€‚å› ä¸ºä»–ä»¬ä¼šè¢«ä½¿ç”¨è€…çš„é¡¹ç›®å®‰è£…ï¼Œæ‰€ä»¥ä¸éœ€è¦é‡å¤æ‰“åŒ…ã€‚
- [click] ä½ ä¹Ÿå¯ä»¥çµæ´»æ§åˆ¶ï¼Œæ”¯æŒ `external` å’Œ `noExternal` è¿™æ ·çš„ç²¾ç»†é…ç½®ï¼Œæƒ³æ‰“åŒ…ä»€ä¹ˆã€å¤–éƒ¨åŒ–ä»€ä¹ˆéƒ½å¯ä»¥è‡ªå®šä¹‰ã€‚
- è‡³äº devDependencies åªä¼šæ‰“åŒ…å®é™…ç”¨åˆ°çš„éƒ¨åˆ†ï¼Œä¸ä¼šæŠŠæ²¡ç”¨åˆ°çš„ä¾èµ–å¸¦è¿›æ¥ã€‚
- ä»¥åŠç±»å‹ä¾èµ–ä¹Ÿå¯ä»¥è¢«æ‰“åŒ…ï¼Œæ‰€ä»¥ç±»å‹å£°æ˜ä¸ä¼šç¼ºå¤±ã€‚

NOTE: CDN ç‰ˆæœ¬
-->

---
layout: center
---

# å¤šæ ¼å¼è¾“å‡º & å¹³å°æ”¯æŒ

<div grid="~ cols-4 gap-8" mt-8 mb8 v-click>
  <div flex="~ col items-center gap-2">
    <div i-carbon-cube text-3xl text-purple-400 />
    <div>ESM</div>
  </div>
  <div flex="~ col items-center gap-2">
    <div i-carbon-cube text-3xl text-yellow-400 />
    <div>CJS</div>
  </div>
  <div flex="~ col items-center gap-2">
    <div i-carbon-cube text-3xl text-pink-400 />
    <div>IIFE</div>
  </div>
  <div flex="~ col items-center gap-2">
    <div i-carbon-cube text-3xl text-orange-400 />
    <div>UMD</div>
  </div>
</div>

<v-clicks>

- ä¸€è¡Œå‘½ä»¤å¤šæ ¼å¼è¾“å‡º

  ```bash
  tsdown --format esm,cjs
  ```

- æ”¯æŒ `node / browser / neutral` å¹³å°

</v-clicks>

<!--
- [click] å¤šæ ¼å¼è¾“å‡ºå’Œå¹³å°æ”¯æŒä¹Ÿæ˜¯åº“å¼€å‘çš„åˆšéœ€ã€‚
- [click] tsdown ä¸€è¡Œå‘½ä»¤å°±èƒ½è¾“å‡ºå¤šç§æ ¼å¼ã€‚
- [click] æ”¯æŒ nodeã€browserã€neutral å¹³å°ï¼Œé€‚é…å„ç§åœºæ™¯ã€‚
-->

---
grow: center
layout: center
---

# è‡ªåŠ¨ç”Ÿæˆ `package.json#exports`

<div w-fit my10 flex gap8 items-center>
```ts
export default defineConfig({
  exports: true,
})
```
æˆ–
```bash
tsdown --exports
```
</div>

<div v-click>

- è‡ªåŠ¨ç”Ÿæˆ <code>main/module/types/exports</code> å­—æ®µåˆ° `package.json`

- å¼€å‘æ—¶å¯æŒ‡å‘æºç ï¼Œå‘å¸ƒæ—¶è‡ªåŠ¨åˆ‡æ¢

- æ”¯æŒè‡ªå®šä¹‰ exports è§„åˆ™

</div>

<!--
tsdown è¿˜èƒ½è‡ªåŠ¨ç”Ÿæˆ `package.json` é‡Œçš„ `exports` ç­‰å­—æ®µï¼š

- [click] å®ƒä¼šè‡ªåŠ¨æ¨æ–­å¹¶ç”Ÿæˆåƒ `main`ã€`module`ã€`types`ã€`exports` å­—æ®µï¼Œç›´æ¥å†™åˆ°ä½ çš„ package.json é‡Œï¼Œä¸éœ€è¦ä½ æ‰‹åŠ¨é…ç½®ã€‚
- åœ¨å¼€å‘æ—¶ï¼Œè¿™äº›å­—æ®µå¯ä»¥æŒ‡å‘æºç ï¼Œæ–¹ä¾¿ç›´æ¥æºç ä¾èµ–ï¼Œå› ä¸ºå¼€å‘é˜¶æ®µäº§ç‰©å¯èƒ½è¿˜æ²¡æ›´æ–°ã€‚å‘å¸ƒæ—¶ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ‰“åŒ…åçš„äº§ç‰©ã€‚
- å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ exports è§„åˆ™ï¼Œæ»¡è¶³æ›´å¤æ‚çš„éœ€æ±‚ã€‚
-->

---
layout: center
---

<h1 text-center>Vue æ”¯æŒ</h1>

```ts
// tsdown.config.ts
import Vue from 'unplugin-vue/rolldown'

export default defineConfig({
  plugins: [Vue()],
  dts: { vue: true },
})
```

<!--
åš Vue ç»„ä»¶åº“ä¹Ÿå¾ˆç®€å•ã€‚[click]
ä¸€è¡Œé›†æˆ unplugin-vueï¼Œè‡ªåŠ¨ç”Ÿæˆ Vue ç±»å‹å£°æ˜ã€‚[click]
æ”¯æŒ SFCã€CSS æå–ã€ç±»å‹å£°æ˜ï¼Œæ¨è platform: 'neutral'ï¼Œå…¼å®¹å¤šç«¯ã€‚
-->

---
layout: center
class: text-center
---

# æ’ä»¶ç”Ÿæ€ä¸æ‰©å±•æ€§

<div flex="~ gap-8" mt-16>
  <div v-click flex="~ col items-center gap-2" bg-active p5 rounded-2xl w-40>
    <img src="https://rolldown.rs/rolldown-round.svg" w-20 />
    <div>Rolldown æ’ä»¶</div>
  </div>
  <div v-click="1" flex="~ col items-center gap-2" bg-active p5 rounded-2xl w-40>
    <img src="https://unplugin.unjs.io/logo_dark.svg" w-20 />
    <div>Unplugin æ’ä»¶</div>
  </div>
  <div v-click="1" flex="~ col items-center gap-2" bg-active p5 rounded-2xl w-40>
    <div i-logos:rollupjs text-20 />
    <div>Rollup æ’ä»¶</div>
  </div>
  <div v-click flex="~ col items-center gap-2" p5 op70 rounded-2xl border="~ dashed" w-40>
    <div i-logos:vitejs text-20 />
    <div>Vite æ’ä»¶</div>
  </div>
</div>

<!--
æ’ä»¶æ–¹é¢

[click] tsdown æ”¯æŒ Rolldownã€Unplugin å’Œ Rollup çš„æ’ä»¶ã€‚[click] åŒæ—¶ä¹Ÿå¯¹ Vite æ’ä»¶åšäº†éƒ¨åˆ†å…¼å®¹ã€‚

[click] æ’ä»¶æ¥å£æ˜¯ç»Ÿä¸€çš„ï¼Œç”Ÿæ€éå¸¸ä¸°å¯Œã€‚
-->

---
class: text-center
---

# æ€§èƒ½

å¿«ï¼çœŸçš„å¾ˆå¿«ï¼

<img src="/tsdown-benchmark.png" h-90 ma rounded-xl mb3 shadow />

<div flex items-center gap1 justify-center text-sm>
  <ri-github-fill />
  <a op60 href="https://gugustinette.github.io/bundler-benchmark/" font-mono>Gugustinette/bundler-benchmark
  </a>
</div>

<!--
æ€§èƒ½æ–¹é¢ï¼Œtsdown å¯ä»¥è¯´æ˜¯ç›®å‰æœ€å¿«çš„åº“æ‰“åŒ…å·¥å…·ä¹‹ä¸€ã€‚åœ¨ä¿è¯åŠŸèƒ½ä¸°å¯Œçš„åŒæ—¶ï¼Œæ€§èƒ½ä¹Ÿéå¸¸å‡ºè‰²ã€‚

è¿™é‡Œæœ‰ä¸€å¼  tsdown åœ¨å¤§å‹åº“ä¸Šçš„æ€§èƒ½å¯¹æ¯”å›¾ï¼Œå¯ä»¥çœ‹åˆ°å®ƒå’Œå…¶ä»–å·¥å…·ç›¸æ¯”ï¼Œè¡¨ç°éå¸¸ä¼˜ç§€ã€‚
-->

---
layout: center
growOpacity: 0.3
grow: bottom
---

# ä» tsup è¿ç§»è¶…ç®€å•

<div mt12>

```bash
tsdown migrate
```

</div>

<div grid="~ cols-2 gap-8" mt-10>
<div flex="~ col items-center gap-2">
  <div i-carbon-migrate text-3xl text-blue-400 />
  <div>ä¸€è¡Œå‘½ä»¤è‡ªåŠ¨è¿ç§»</div>
</div>
<div flex="~ col items-center gap-2">
  <div i-carbon-checkmark text-3xl text-green-400 />
  <div>é…ç½®é«˜åº¦å…¼å®¹</div>
</div>
</div>

<!--
tsdown æ˜¯ tsup çš„ç»§ä»»è€…ã€‚å¦‚æœä½ ä¹‹å‰ç”¨ tsupï¼Œè¿ç§»åˆ° tsdown ä¹Ÿè¶…çº§ç®€å•ã€‚

ä¸€è¡Œå‘½ä»¤è‡ªåŠ¨è¿ç§»ï¼Œé…ç½®é«˜åº¦å…¼å®¹ã€‚æˆ‘ä»¬å°½é‡ä¿ç•™äº† tsup çš„é…ç½®é€‰é¡¹ï¼Œç¡®ä¿è¿ç§»è¿‡ç¨‹å¹³æ»‘ã€‚

å¤§éƒ¨åˆ†çš„ tsup é…ç½®éƒ½å¯ä»¥ç›´æ¥ç”¨åœ¨ tsdown ä¸Šï¼Œè¿ç§»åå»ºè®® review ä¸€ä¸‹é…ç½®ã€‚
-->

---
layout: center
class: text-center
---

# åŠŸèƒ½ä¸€è§ˆ

<div grid="~ cols-4 gap-x-4 gap-y-7" mt-8 text-sm>

  <div flex="~ col items-center gap-2">
    <div i-carbon-tree-view-alt text-3xl text-green-400 />
    <div>Tree-shaking</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-icon-park-outline:compression text-3xl text-blue-400 />
    <div>Minify å‹ç¼©</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-map text-3xl text-yellow-400 />
    <div>Source Map</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-play-outline text-3xl text-pink-400 />
    <div>Watch Mode</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-branch text-3xl text-purple-400 />
    <div>Unbundle æ¨¡å¼</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-hugeicons:universal-access-circle text-3xl text-teal-400 />
    <div>Shims å…¼å®¹å˜é‡</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-report-data text-3xl text-orange-400 />
    <div>æ„å»ºæŠ¥å‘Š</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-volume-mute text-3xl text-gray-400 />
    <div>Silent é™é»˜æ¨¡å¼</div>
  </div>

  <div flex="~ col items-center gap-2">
    <img src="https://unplugin.unjs.io/logo_dark.svg" w="7.5" />
    <div>æ’ä»¶ç³»ç»Ÿ</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-package text-3xl text-green-400 />
    <div>è‡ªåŠ¨ä¾èµ–åˆ†æ</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-vscode-icons:file-type-typescriptdef text-3xl text-purple-400 />
    <div>è‡ªåŠ¨ç±»å‹å£°æ˜</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-code text-3xl text-yellow-400 />
    <div>å¤šå…¥å£/å¤šè¾“å‡º</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-rocket text-3xl text-orange-400 />
    <div>Rolldown æè‡´æ€§èƒ½</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-idea text-3xl text-teal-400 />
    <div>Vite/Vitest é…ç½®å¤ç”¨</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-migrate text-3xl text-green-400 />
    <div>ä¸€é”®è¿ç§» tsup</div>
  </div>

  <div flex="~ col items-center gap-2">
    <div i-carbon-workspace text-3xl text-blue-400 />
    <div>Monorepo æ”¯æŒ</div>
  </div>
</div>

<!--
ä¸Šé¢è¿™äº›ï¼Œå…¶å®åªæ˜¯ tsdown åŠŸèƒ½çš„å†°å±±ä¸€è§’ã€‚è¿˜æœ‰æ›´å¤šå¼ºå¤§å’Œå®ç”¨çš„åŠŸèƒ½ï¼Œç­‰ç€å¤§å®¶è‡ªå·±å»æ¢ç´¢å’Œå‘ç°ã€‚
-->

---
glowX: 100
glowY: 100
class: ml-20 mt-5
---

## tsdown ç°çŠ¶

###### æˆªæ­¢åˆ° 2025-07-10

<div flex justify-between my14>
<div grid="~ cols-[auto_1fr] gap-x-4 gap-y-2" items-center>
  <v-clicks :every="2">
    <div text-right text-4xl font-bold color="[#BD3E53]">245K</div><div text-left text-lg op80>NPM æœˆä¸‹è½½é‡</div>
    <div text-right text-4xl font-bold color="[#BD7C3E]">31%</div><div text-left text-lg op80>å  Rolldown ä¸‹è½½é‡</div>
    <div text-right text-4xl font-bold color="[#A9BD3E]">1.2K</div><div text-left text-lg op80>å¼€æºçš„ä¸‹æ¸¸é¡¹ç›®</div>
    <div text-right text-4xl font-bold color="[#54BD3E]">1.9K</div><div text-left text-lg op80>GitHub Star æ•°</div>
    <div text-right text-4xl font-bold color="[#3EAABD]">32</div><div text-left text-lg op80>è´¡çŒ®è€…</div>
  </v-clicks>
</div>

<img src="/tsdown-downloads.svg" w-110 v-click />
</div>

<!--
æˆªæ­¢åˆ°å‰ä¸¤å¤©ï¼Œtsdown çš„ç°çŠ¶æ˜¯è¿™æ ·çš„ï¼š

- [click] NPM æœˆä¸‹è½½é‡å·²ç»è¾¾åˆ° 24.5 ä¸‡ã€‚è¿™ä¸ªæœˆæˆ‘ä»¬ä¹Ÿæ˜¯è¶…è¿‡äº† Rslibï¼Œæˆä¸ºå¼€æºç¤¾åŒºæµè¡Œçš„åº“æ‰“åŒ…å·¥å…·ä¹‹ä¸€ã€‚
- [click] å  Rolldown ä¸‹è½½é‡çš„çº¦ä¸‰åˆ†ä¹‹ä¸€
- [click] æœ‰ 1200 ä¸ªå¼€æºé¡¹ç›®ä¾èµ– tsdown
- [click] GitHub Star æ•°é‡è¾¾åˆ° 1900 å¤š
- [click] ç›®å‰æœ‰ 32 ä½è´¡çŒ®è€…å‚ä¸

[click] å³è¾¹è¿™å¼ å›¾å±•ç¤ºäº† tsdown çš„ä¸‹è½½è¶‹åŠ¿ï¼Œæ¬¢è¿å¤§å®¶æ¥ä½¿ç”¨ tsdownï¼
-->

---
layout: fact
clicks: 2
---

<div flex items-center gap10 transition-300
  :class="[$clicks === 1 && 'translate-x--200', $clicks === 2 && 'translate-x--430']">
>
  <img w-180 src="/tsdown-twitter1.png"rounded-2xl />
  <img v-click src="/tsdown-twitter2.png"rounded-2xl />
  <img src="/tsdown-twitter3.png"rounded-2xl />
</div>

<!--
- Vite
-->

---
layout: fact
---

<div flex flex-col gap2 items-center justify-center scale-200>
  <Repo name="rolldown/tsdown" />
  <a v-click href="http://tsdown.dev/" target="_blank" border-none="!" flex items-center gap1 justify-center>
    <img src="https://tsdown.dev/tsdown.svg" h-6 />
    tsdown.dev
  </a>
</div>

<!--
å¦‚æœä½ å¯¹ tsdown æ„Ÿå…´è¶£ï¼Œå¯ä»¥åœ¨ GitHub ä¸ŠæŸ¥çœ‹å®ƒçš„ä»£ç ï¼Œ[click] ä¹Ÿå¯ä»¥è®¿é—® tsdown.devï¼Œtsdown æœ‰ä¸€ä¸ªéå¸¸å®Œæ•´çš„æ–‡æ¡£ã€‚

æ¬¢è¿å¤§å®¶æ¥åšä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼Œæ— è®ºæ˜¯ä»£ç ã€æ–‡æ¡£è¿˜æ˜¯åé¦ˆæ„è§ï¼
-->

---
class: text-center
---

# èµåŠ©è€…

<div flex items-center justify-center gap1 op70 mb2>
  <div i-ri:heart-3-fill text-pink />
  <a href="https://github.com/sponsors/sxzz" target="_blank">github.com/sponsors/sxzz</a>
</div>

<div flex items-center justify-center gap-12>
  <a href="https://github.com/sponsors/sxzz" target="_blank" border-none="!"
    transition transition-500 ease-in-out>
    <img src="https://raw.githubusercontent.com/sxzz/sponsors/main/sponsors.circles.svg" h-95 ma object-contain />
  </a>

</div>

<!--
æœ€åï¼Œæ„Ÿè°¢æ‰€æœ‰èµåŠ©è€…çš„æ”¯æŒï¼ä½ ä»¬çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­å‚ä¸å¼€æºçš„åŠ¨åŠ›ï¼æˆ‘ç›®å‰æ˜¯å—å¼€æºèµåŠ©çš„ç‹¬ç«‹å¼€å‘è€…ï¼Œå¦‚æœä½ ä¹Ÿæƒ³æ”¯æŒæˆ‘çš„å·¥ä½œï¼Œå¯ä»¥åœ¨ GitHub ä¸ŠèµåŠ©æˆ‘ã€‚
-->

---
layout: intro
class: text-center
growOpacity: 0.7
growSeed: 1
---

<h1 font-smiley scale-120>æ„Ÿè°¢</h1>

<div op80 font-smiley text-5>

å¹»ç¯ç‰‡å¯ç¨ååœ¨ <ri-github-fill /> [github.com/sxzz/talks](https://github.com/sxzz/talks) æµè§ˆ

</div>

<div font-smiley text-4>
  ğŸ’–
  <span op70>æ„Ÿè°¢
    <a href="https://github.com/antfu" target="_blank">Anthony Fu</a>ï¼Œ
    å¹»ç¯ç‰‡ç”± <div i-logos:slidev inline-block /> <a href="https://sli.dev/" target="_blank"> Slidev</a>
    å¼ºåŠ›é©±åŠ¨ï¼
  </span>
</div>

<style>
a {
  border: 0 !important
}
</style>

<!--
æœ€åï¼Œä»Šå¤©æˆ‘çš„åˆ†äº«å°±åˆ°è¿™é‡Œäº†ã€‚
å¦‚æœå¤§å®¶å¯¹ tsdown æœ‰å…´è¶£ï¼Œå¯ä»¥åœ¨ GitHub ä¸Šå…³æ³¨ tsdownã€‚

ä¹Ÿéœ€è¦å¤§åŠ›æ„Ÿè°¢ä¸€ä¸‹ Slidev çš„ä½œè€… Anthony Fuã€‚
-->
